pkill -f "node /usr/bin/http-server"
sleep 1;
http-server -p 8999 &
head "/tmp/autoplot_data/server/whitelist.txt"
# list of whitelisted URIs regular expressions.  See http://autoplot.org/servlet_guide.
# http://autoplot.org/data.*  # uncomment to allow scripts from autoplot.org
http://localhost(:\d+)?/.*
curl "http://localhost:8001/AutoplotServlet/ServletInfo"
<!DOCTYPE html>
<html>
<head>
<title>Autoplot Servlet ServletInfo</title>
</head>
<body>
<h1>Servlet ServletInfo at /AutoplotServlet</h1>
<html>release version: untagged_version
<br>build time: 2015-07-14T11:44Z
<br>java version: 1.7.0_80
<br>max memory (Mb): 455.0
<br>arch: amd64
<br>
<br> CDAWebDataSource.jar: untagged_version( )
<br> DataSourcePack.jar: untagged_version( )
<br> TsdsDataSource.jar: untagged_version( )
<br> ImageDataSource.jar: untagged_version( )
<br> JythonDataSource.jar: untagged_version( )
<br> QStream.jar: untagged_version( )
<br> CdfJavaDataSource.jar: untagged_version( )
<br> JythonSupport.jar: untagged_version( )
<br> dasCore.jar: untagged_version( )
<br> QDataSet.jar: untagged_version( )
<br> DataSource.jar: untagged_version( )
<br> FitsDataSource.jar: untagged_version( )
<br> VirboAutoplot.jar: untagged_version( )
<br> BinaryDataSource.jar: untagged_version( )
<br> Das2ServerDataSource.jar: untagged_version( )
<br> WavDataSource.jar: untagged_version( )

<h2>Whitelist File</h2>

Whitelist File: /tmp/autoplot_data/server/whitelist.txt<br>
<ul>
<li>(whitelist is empty)

</ul>
<h2>Other Info</h2>

hostname: mag
<br>user.name: weigel

<br>java.home: /usr/lib/jvm/jre1.7.0_80

<p>PWD: /home/weigel/git/tsds2/autoplot/deps/jetty-distribution-8.1.16.v20140903/.

<br>Servlet Home: /tmp/autoplot_data/server

<br>servlet version=v20150714.0636<br>
</p></body>
</html>
sleep 5; curl "http://localhost:8001/AutoplotServlet/SimpleServlet?format=image/png&url=vap%2Bjyds:http%3A%2F%2Flocalhost%3A8999%2Ftest.jyds" > test2a.png
[33mStarting up http-server, serving [39m[36m./[39m[33m on port: [39m[36m8999[39m
Hit CTRL-C to stop the server
head test2a.png
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>Error 500 Server Error</title>
</head>
<body><h2>HTTP ERROR 500</h2>
<p>Problem accessing /AutoplotServlet/SimpleServlet. Reason:
<pre>    Server Error</pre></p><h3>Caused by:</h3><pre>java.lang.IllegalArgumentException: non-local .jyds scripts are not allowed.  Administrators may wish to whitelist this data, see /tmp/autoplot_data/server/whitelist.txt, which does not include a match for vap+jyds:http://localhost:8999/test.jyds
	at org.virbo.autoplot.SimpleServlet.processRequest(SimpleServlet.java:471)
	at org.virbo.autoplot.SimpleServlet.doGet(SimpleServlet.java:696)
curl "http://localhost:8001/AutoplotServlet/SimpleServlet?format=image/png&url=http%3A%2F%2Flocalhost%3A8999%2Ftest.jyds" > test2b.png
head test2b.png
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>Error 500 Server Error</title>
</head>
<body><h2>HTTP ERROR 500</h2>
<p>Problem accessing /AutoplotServlet/SimpleServlet. Reason:
<pre>    Server Error</pre></p><h3>Caused by:</h3><pre>java.lang.IllegalArgumentException: non-local .jyds scripts are not allowed.  Administrators may wish to whitelist this data, see /tmp/autoplot_data/server/whitelist.txt, which does not include a match for http://localhost:8999/test.jyds
	at org.virbo.autoplot.SimpleServlet.processRequest(SimpleServlet.java:471)
	at org.virbo.autoplot.SimpleServlet.doGet(SimpleServlet.java:696)
#display test2.png
